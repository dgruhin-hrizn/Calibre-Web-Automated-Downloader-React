<?xml version="1.0"?>
<Container version="2">
  <Name>Inkdrop</Name>
  <Repository>ghcr.io/dgruhin-hrizn/inkdrop:latest</Repository>
  <Registry>https://ghcr.io/dgruhin-hrizn/inkdrop</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/dgruhin-hrizn/inkdrop</Support>
  <Project>https://github.com/dgruhin-hrizn/inkdrop</Project>
  <Overview>Inkdrop - Independent digital library management system with automated book downloading capabilities. Features a React-based frontend with infinite scroll, advanced search, and comprehensive library management. Completely self-contained with bundled Calibre for format conversion, direct database access, and built-in Send to Kindle functionality. Supports FlareSolverr for reliable Cloudflare bypass, multiple book formats, and responsive design for all devices. No external dependencies required.</Overview>
  <Category>MediaApp:Books</Category>
  <WebUI>http://[IP]:[PORT:8084]</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/dgruhin-hrizn/inkdrop/main/unraid-template.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/dgruhin-hrizn/inkdrop/main/static/media/logo.png</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled>1756755762</DateInstalled>
  <DonateText/>
  <DonateLink/>
  <Requires>No external dependencies - fully self-contained</Requires>
  <Config Name="Web UI Port" Target="8084" Default="8084" Mode="tcp" Description="Port for accessing the web interface" Type="Port" Display="always" Required="true" Mask="false">8084</Config>
  
  <!-- Volume Mappings -->
  <Config Name="Config Directory" Target="/config" Default="/mnt/user/appdata/calibre-web/config" Mode="rw" Description="Path to existing config directory (contains app.db and cwa.db for user authentication and settings)" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/calibre-web/config</Config>
  <Config Name="Calibre Library" Target="/calibre-library" Default="/mnt/user/media/books/calibre-library" Mode="rw" Description="Path to your Calibre library directory (Inkdrop can read and write directly)" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/media/books/calibre-library</Config>
  <Config Name="Book Ingest Directory" Target="/ingest" Default="/mnt/user/media/books/ingest" Mode="rw" Description="Directory where downloaded books are processed and converted by Inkdrop" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/media/books/ingest</Config>
  <Config Name="App Data Directory" Target="/app/data" Default="/mnt/user/appdata/inkdrop/data" Mode="rw" Description="Application data directory" Type="Path" Display="always" Required="false" Mask="false">/mnt/user/appdata/inkdrop/data</Config>
  <Config Name="Logs Directory" Target="/logs" Default="/mnt/user/appdata/inkdrop/logs" Mode="rw" Description="Application logs directory" Type="Path" Display="always" Required="false" Mask="false">/mnt/user/appdata/inkdrop/logs</Config>
  
  <!-- Core Configuration -->
  <!-- No external CWA connection required - Inkdrop is fully independent -->
  
  <!-- System Settings -->
  <Config Name="Timezone" Target="TZ" Default="America/New_York" Mode="" Description="Container timezone" Type="Variable" Display="always" Required="false" Mask="false">America/New_York</Config>
  <Config Name="User ID" Target="PUID" Default="1000" Mode="" Description="User ID for file permissions" Type="Variable" Display="always" Required="false" Mask="false">1000</Config>
  <Config Name="Group ID" Target="PGID" Default="1000" Mode="" Description="Group ID for file permissions" Type="Variable" Display="always" Required="false" Mask="false">1000</Config>
  
  <!-- Authentication Settings -->
  <Config Name="User Database Path" Target="CWA_USER_DB_PATH" Default="/config/app.db" Mode="" Description="Path to user database file (app.db) for authentication" Type="Variable" Display="advanced" Required="false" Mask="false">/config/app.db</Config>
  <Config Name="Settings Database Path" Target="CWA_DB_PATH" Default="/config/cwa.db" Mode="" Description="Path to settings database file (cwa.db) for configuration" Type="Variable" Display="advanced" Required="false" Mask="false">/config/cwa.db</Config>
  <Config Name="Disable Authentication" Target="DISABLE_AUTH" Default="false" Mode="" Description="Disable authentication (NOT recommended for production)" Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
  
  <!-- Download Settings -->
  <Config Name="Book Language" Target="BOOK_LANGUAGE" Default="en" Mode="" Description="Default book language" Type="Variable" Display="advanced" Required="false" Mask="false">en</Config>
  <Config Name="Use Book Title" Target="USE_BOOK_TITLE" Default="true" Mode="" Description="Include book title in filename" Type="Variable" Display="advanced" Required="false" Mask="false">true</Config>
  <Config Name="Max Concurrent Downloads" Target="MAX_CONCURRENT_DOWNLOADS" Default="3" Mode="" Description="Maximum concurrent downloads" Type="Variable" Display="advanced" Required="false" Mask="false">3</Config>
  <Config Name="Ingest Directory Path" Target="INGEST_DIR" Default="/ingest" Mode="" Description="Container path to ingest directory (should match volume mount)" Type="Variable" Display="always" Required="true" Mask="false">/ingest</Config>
  <Config Name="Anna's Archive Donator Key" Target="AA_DONATOR_KEY" Default="" Mode="" Description="Anna's Archive donator key (optional - improves download speed)" Type="Variable" Display="advanced" Required="false" Mask="true"></Config>
  
  <!-- Cloudflare Bypass Settings -->
  <Config Name="Use Cloudflare Bypass" Target="USE_CF_BYPASS" Default="true" Mode="" Description="Enable Cloudflare bypass (required for FlareSolverr)" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="Use External Bypasser" Target="USING_EXTERNAL_BYPASSER" Default="false" Mode="" Description="Use external FlareSolverr service (recommended)" Type="Variable" Display="always" Required="false" Mask="false">false</Config>
  <Config Name="FlareSolverr URL" Target="EXT_BYPASSER_URL" Default="http://flaresolverr:8191" Mode="" Description="FlareSolverr service URL (e.g., http://192.168.1.100:8191)" Type="Variable" Display="always" Required="false" Mask="false">http://flaresolverr:8191</Config>
  <Config Name="FlareSolverr API Path" Target="EXT_BYPASSER_PATH" Default="/v1" Mode="" Description="FlareSolverr API path (usually /v1)" Type="Variable" Display="advanced" Required="false" Mask="false">/v1</Config>
  <Config Name="FlareSolverr Timeout" Target="EXT_BYPASSER_TIMEOUT" Default="60000" Mode="" Description="FlareSolverr timeout in milliseconds" Type="Variable" Display="advanced" Required="false" Mask="false">60000</Config>
  
  <!-- Network Settings -->
  <Config Name="HTTP Proxy" Target="HTTP_PROXY" Default="" Mode="" Description="HTTP proxy URL (optional)" Type="Variable" Display="advanced" Required="false" Mask="false"></Config>
  <Config Name="HTTPS Proxy" Target="HTTPS_PROXY" Default="" Mode="" Description="HTTPS proxy URL (optional)" Type="Variable" Display="advanced" Required="false" Mask="false"></Config>
  <Config Name="Custom DNS" Target="CUSTOM_DNS" Default="cloudflare" Mode="" Description="Custom DNS provider (cloudflare, google, quad9, opendns)" Type="Variable" Display="advanced" Required="false" Mask="false">cloudflare</Config>
  <Config Name="Use DNS over HTTPS" Target="USE_DOH" Default="false" Mode="" Description="Enable DNS over HTTPS for enhanced privacy" Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
  
  <!-- Application Settings -->
  <Config Name="Log Level" Target="LOG_LEVEL" Default="INFO" Mode="" Description="Application log level (DEBUG, INFO, WARNING, ERROR)" Type="Variable" Display="advanced" Required="false" Mask="false">INFO</Config>
  <Config Name="Debug Mode" Target="DEBUG" Default="false" Mode="" Description="Enable debug mode" Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
  <Config Name="App Environment" Target="APP_ENV" Default="production" Mode="" Description="Application environment (development, production)" Type="Variable" Display="advanced" Required="false" Mask="false">production</Config>
  <Config Name="Flask Port" Target="FLASK_PORT" Default="8084" Mode="" Description="Internal Flask port (should match exposed port)" Type="Variable" Display="advanced" Required="false" Mask="false">8084</Config>
  <Config Name="Flask Host" Target="FLASK_HOST" Default="0.0.0.0" Mode="" Description="Flask host binding" Type="Variable" Display="advanced" Required="false" Mask="false">0.0.0.0</Config>
  <Config Name="Enable Logging" Target="ENABLE_LOGGING" Default="true" Mode="" Description="Enable detailed logging for download operations" Type="Variable" Display="advanced" Required="false" Mask="false">true</Config>
  <Config Name="Calibre Library Path" Target="CALIBRE_LIBRARY_PATH" Default="/calibre-library" Mode="" Description="Internal path to Calibre library (container path)" Type="Variable" Display="advanced" Required="false" Mask="false">/calibre-library</Config>
  <Config Name="Calibre Config Directory" Target="CALIBRE_CONFIG_DIR" Default="/app/data/.config/calibre" Mode="" Description="Internal path to Calibre configuration directory" Type="Variable" Display="advanced" Required="false" Mask="false">/app/data/.config/calibre</Config>
  
  <!-- Inkdrop Settings -->
  <Config Name="Enable Conversion" Target="CONVERSION_ENABLED" Default="true" Mode="" Description="Enable automatic format conversion using bundled Calibre" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="Target Format" Target="CONVERSION_TARGET_FORMAT" Default="epub" Mode="" Description="Target format for conversion (epub, pdf, mobi, azw3)" Type="Variable" Display="always" Required="false" Mask="false">epub</Config>
</Container>
